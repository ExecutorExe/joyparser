# joyreactor_parser


joyparser - библиотека для парсинга joyreactor.cc

-  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -
page_max (page): - определяет максимальное количество страниц
возвращает int число
-  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -
parser(page, from_page, until_page=0, on_text_tags=False, on_info=False)

-- page - первый аргумент это какая страница дожна быть просканирована| "://" обязателен, на конце не должно быть "/"
например http://joyreactor.cc/tag/Sakimichan

-- from_page - второй аргумент получает цифру от какой страницы сканировать


-- until_page - третий аргумент получает цифру (по умолчанию 0)



- on_text_tags - четвертый аргумент включение создание переменных (type -dict) с текстом в постах и тегов постов
(по уморлчанию выключен)

- on_info - пятый аргумент создает переменные с информацией о посте (рейтинг, дата)
и лучший коммент автор лучшего коммента (если он есть)

- 1 возвращает ссылки на картинки в первой переменной

- 2 возвращает текст поста

- 3 теги

- 4 лучшие комменты

- 5 информация

ключи ко всей информации в переменных это цифры постов

return images, data_text, text_tags, comments, post_info
-  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -

sort_by_rating(linksbase, info, rating)
название говорит само за себя, сортировка по рейтингу

- 1 аргумент это что надо отсартировать картинки/текст

- 2 аргумент переменная с информацией

- 3 аргумент - цифра, ниже этого значения посты не пройдут

-  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -

get_rdy(images)
принимает переменную с картинками после парса или после сортировки
она просто переводит все ссылки в список
возвращает список

-  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -

download_images(images, download_path, warn_on=True)

- 1 аргумент принемает подготовленный список изображений

- 2 аргумент в какую дирректорию надо скачивать

- 3 аргумент отключения предупреждений по уполчанию влючено


jp.download_images(jp.get_rdy(jp.sort_by_rating(linksbase, info, 0)), download_path=d_path) можно сделать так

# Требования
Советую использовать conda 

- python 3.7

- requirements.txt

# Пример использования

```python
import joyparser as jp

till_page = 0  # до какой | http://joyreactor.cc/user/котэ/1
#
page = "http://joyreactor.cc/tag/котэ"
# какая пейджа  пример http://joyreactor.cc/котэ (без оканчания на "/")


from_page = 1
# от какой страницы | например http://joyreactor.cc/user/котэ/35 
# или воспользуйтесь jp.page_max(page) эта функция вернет максимальное количество страниц

x = jp.parser(page, jp.page_max(page), till_page, True, True)

linksbase, datatext, tags, com, inf = x


jp.download_images(jp.get_rdy(jp.sort_by_rating(linksbase, inf, 0)), download_path=r"D:\parser_data")
```
